{% extends "_layouts/base.html" %}
{% from "_macros/ui.html" import page_header, button_primary, button_secondary, form_input %}

{% block title %}Create Job{% endblock %}

{% block content %}
<section class="space-y-8">
  {% call page_header("Create Job", "Add a new job directly from the admin screen.") %}
    {{ button_secondary("Back to Jobs", href=url_for('jobs.index')) }}
  {% endcall %}

  <form method="post" class="grid gap-6 rounded-2xl border border-slate-800/70 bg-slate-900/70 p-6 shadow-lg shadow-slate-950/30">
    {% if csrf_token is defined %}
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
    {% endif %}
    {% with messages = get_flashed_messages(category_filter=['error']) %}
      {% if messages %}
        {% for message in messages %}
          <p class="rounded-lg border border-red-500/40 bg-red-500/10 px-4 py-2 text-sm text-red-200">{{ message }}</p>
        {% endfor %}
      {% endif %}
    {% endwith %}

    {{ form_input('company', 'Company', required=True, value=form_data.get('company', ''), placeholder='Company name') }}
    {{ form_input('contact_name', 'Contact Name', value=form_data.get('contact_name', ''), placeholder='Optional contact') }}
    <div class="space-y-1.5">
      <label for="description" class="block text-sm font-medium text-slate-300">Description<span class="text-red-400">*</span></label>
      <textarea id="description" name="description" rows="4" required class="w-full rounded-lg border border-slate-800 bg-slate-950/70 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500/40">{{ form_data.get('description', '') }}</textarea>
    </div>

    <div class="flex items-center justify-end gap-3">
      <a href="{{ url_for('jobs.index') }}" class="px-4 py-2 text-sm font-semibold text-slate-300 transition hover:text-white">Cancel</a>
      {{ button_primary('Create Job', type='submit') }}
    </div>
  </form>
</section>
{% endblock %}

